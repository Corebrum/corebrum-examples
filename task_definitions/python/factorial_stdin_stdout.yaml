task_definition:
  name: "python_factorial_stdin_stdout"
  version: "1.0"
  description: "Calculate factorial using embedded inputs; publish via Zenoh"
  inputs:
    - name: "n"
      type: "number"
  outputs:
    - name: "result"
      type: "zenoh"
      key: "corebrum/examples/factorial/result"
  compute_logic:
    type: "expression"
    language: "python"
    timeout_seconds: 30
    code: |
      import json
      n = int(inputs.get("n", 10))
      def factorial(x):
          return 1 if x <= 1 else x * factorial(x - 1)
      result = {"n": n, "factorial": factorial(n)}
      print(json.dumps(result))
  validation: []
  metadata: {}


